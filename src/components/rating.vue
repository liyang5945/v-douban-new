<template>
  <div @click="setStar" class="rating">
    <div class="rate-star-box bg-star">
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
    </div>
    <div ref="star" class="rate-star-box top-star">
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
      <svg viewBox="0 0 500 500">
        <polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "></polygon>
      </svg>
    </div>
    <span class="rate-num">{{rating}}</span>
  </div>
</template>

<script>
  export default {
    props:{
      rating:{
        type:Number
      }
    },
    watch:{
      'rating':'setStar'
    },
    methods:{
      setStar(){
        this.$refs.star.style.width = (parseFloat(this.rating)/10 * 80)+'px';
      }
    },
    created(){
      this.$nextTick(()=>{
        this.setStar();
      });
    }
  }

</script>
